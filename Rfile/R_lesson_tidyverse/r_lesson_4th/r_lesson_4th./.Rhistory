geom_histogram(binwidth = 5) +
facet_grid(Sex ~ .)
# (6) 男女別にMのヒストグラムを作成し、並べて表示する
ggplot(rfm, aes(x = F)) +
geom_histogram() +
facet_grid(Sex ~ .)
# (7) DMで層別化し、Rのヒストグラムを性別ごとに作成し、並べて表示する
rfm %>% group_by(DM) %>%
ggplot(aes(x = R)) +
geom_histogram() +
facet_grid(Sex ~ .)
# (7) DMで層別化し、Rのヒストグラムを性別ごとに作成し、並べて表示する
rfm %>% group_by(DM) %>%
ggplot(aes(x = R)) +
geom_histogram() +
facet_grid(Sex ~ .) +
theme_gray(base_family = "HiraKakuPro-W3")
# (10) DMで層別化し、RとFの散布図を作成する
rfm %>% group_by(DM) %>%
ggplot(aes(x = R, y = F)) +
geom_point() +
# (11) DMで層別化し、RとMの散布図を作成する
# (12) DMで層別化し、FとMの散布図を作成する
# (13) DMごとのAgeの平均値を棒グラフで表示する
# (14) DMごとのRの平均値を棒グラフで表示する
# (15) DMごとのFの平均値を棒グラフで表示する
# (16) DMで層別化したAgeの平均値をSexごとに棒グラフで表示する
# (17) DMで層別化したRの平均値をSexごとに棒グラフで表示する
# (18) DMで層別化したFの平均値をSexごとに棒グラフで表示する
# (19) DMで層別化したMの平均値をSexごとに棒グラフで表示する
# ------------------------------------------------------------------------------------------
# 解答例
# ------------------------------------------------------------------------------------------
# データ読み込み
rfm <- read_csv("RFM.csv")
# (10) DMで層別化し、RとFの散布図を作成する
rfm %>% group_by(DM) %>%
ggplot(aes(x = R, y = F)) +
geom_point()
# (10) DMで層別化し、RとFの散布図を作成する
rfm %>% ggplot(aes(x = R, y = F, color = DM)) +
geom_point()
# ------------------------------------------------------------------------------------------
# 解答例
# ------------------------------------------------------------------------------------------
# データ読み込み
rfm <- read_csv("RFM.csv")
# (11) DMで層別化し、RとMの散布図を作成する
rfm %>% ggplot(aes(x = R, y = M, color = DM)) +
geom_point()
# (12) DMで層別化し、FとMの散布図を作成する
rfm %>% ggplot(aes(x = F, y = M, color = DM)) +
geom_point()
# (13) DMごとのAgeの平均値を棒グラフで表示する
rfm %>%
ggplot(fill = DM) +
geom_bar(mean(Ahe))
# (13) DMごとのAgeの平均値を棒グラフで表示する
rfm %>%
ggplot(fill = DM) +
geom_bar(mean(Age))
View(rfm)
# (13) DMごとのAgeの平均値を棒グラフで表示する
rfm %>%
ggplot(aes(x = Age, fill = DM)) +
geom_bar(stat = "summary", fun.y("mean"))
# (13) DMごとのAgeの平均値を棒グラフで表示する
rfm %>%
ggplot(aes(x = Age, fill = DM)) +
geom_bar(stat = "summary", fun.x("mean"))
# (13) DMごとのAgeの平均値を棒グラフで表示する
ggplot(data = rfm,mapping = aes(x = Age, fill = DM)) +
geom_bar(stat = "summary", fun.x("mean"))
# (13) DMごとのAgeの平均値を棒グラフで表示する
ggplot(data = rfm,mapping = aes(x = DM, fill = Age))+
geom_bar(stat = "summary", fun.y("mean"))
# (13) DMごとのAgeの平均値を棒グラフで表示する
ggplot(data = rfm,mapping = aes(x = DM, fill = Age))+
geom_bar(stat = "summary", fun.y = "mean")
# (13) DMごとのAgeの平均値を棒グラフで表示する
ggplot(data = rfm,mapping = aes(x = DM, y = Age))+
geom_bar(stat = "summary", fun.y = "mean")
rfm %>% ggplot(aes(x = DM, y = Age)) +
stat_summary(geom = "bar", fun.y = "mean")
rfm %>% ggplot(aes(x = DM, y = Age)) +
stat_summary(geom = "bar", fun.y = "mean")
# (13) DMごとのAgeの平均値を棒グラフで表示する
ggplot(data = rfm,mapping = aes(x = DM, y = Age))+
geom_bar(stat = "summary", fun.y = "mean")
rfm %>%
group_by(DM) %>%
summarise_at(age = mean(Age))
rfm %>%
group_by(DM) %>%
summarise(age = mean(Age))
# (14) DMごとのRの平均値を棒グラフで表示する
ggplot(data = rfm, mapping =  aes(x = DM, y = R)) +
geom_bar(stat = "summary", fun.y = "mean")
# (14) DMごとのRの平均値を棒グラフで表示する
ggplot(data = rfm, mapping =  aes(x = DM, y = R)) +
geom_bar(stat = "summary", fun.y = "mean") +
theme_gray(base_family = "HiraKakuPro-W3")
# (15) DMごとのFの平均値を棒グラフで表示する
ggplot(data = rfm, mapping =  aes(x = DM, y = F)) +
geom_bar(stat = "summary", fun.y = "mean") +
theme_gray(base_family = "HiraKakuPro-W3")
# (16) DMで層別化したAgeの平均値をSexごとに棒グラフで表示する
ggplot(data = rfm, mapping(x = Sex, y = Age, fill = DM)) +
geom_bar(stat = "summary", fun.y = "mean")
# (16) DMで層別化したAgeの平均値をSexごとに棒グラフで表示する
ggplot(data = rfm, mapping = aes(x = Sex, y = Age, fill = DM)) +
geom_bar(stat = "summary", fun.y = "mean")
# (16) DMで層別化したAgeの平均値をSexごとに棒グラフで表示する
ggplot(data = rfm, mapping = aes(x = Sex, y = Age, fill = DM)) +
geom_bar(stat = "summary", fun.y = "mean") +
theme_gray(base_family = "HiraKakuPro-W3")
# (16) DMで層別化したAgeの平均値をSexごとに棒グラフで表示する
ggplot(data = rfm, mapping = aes(x = Sex, y = Age, fill = DM)) +
geom_bar(stat = "summary", fun.y = "mean", position = "dodge") +
theme_gray(base_family = "HiraKakuPro-W3")
rfm %>% ggplot(aes(x = Sex, y = Age, fill = DM)) +
stat_summary(geom = "bar", fun.y = "mean", position = "dodg")
rfm %>% ggplot(aes(x = Sex, y = Age, fill = DM)) +
stat_summary(geom = "bar", fun.y = "mean", position = "dodge")
# (16) DMで層別化したAgeの平均値をSexごとに棒グラフで表示する
ggplot(data = rfm, mapping = aes(x = Sex, y = Age, fill = DM)) +
geom_bar(stat = "summary", fun.y = "mean", position = "dodge") +
theme_gray(base_family = "HiraKakuPro-W3")
rfm %>% ggplot(aes(x = Sex, y = R, fill = DM)) +
stat_summary(geom = "bar", fun.y = "mean", position = "dodge")
library(tidyverse)
library(skimr)
# ------------------------------------------------------------------------------------------
# 練習問題
# ------------------------------------------------------------------------------------------
# データ読み込み
titanic <- read_csv("/Users/yoshikawahiroshi/Documents/R_lesson_tidyverse/r_lesson_4th/titanic.csv")
# データの整形
titanic %>% skim()
# 変数Cabin, ChiOrAdを削除した後に欠損値をリストワイズ削除する
#　リストワイズ削除 → 解析対象とされる複数の変数のどれか１つでも欠損価を持つ場合、計算から除外すること
titanic <- titanic %>%
select(-c(Cabin, ChiOrAd)) %>%
na.omit() #リストワイズ削除している。欠損値の取り扱いを（）内で規定することもある
# PclassとSurvivedをchr型に変換する
titanic <- titanic %>% mutate(Survived = as.character(Survived),
Pclass = as.character(Pclass))
titanic
ggplot(titanic, aes(x = Age )) +
geom_histogram(bin = 20)
ggplot(titanic, aes(x = Age )) +
geom_histogram(bins = 20)
ggplot(titanic, aes(x = Age )) +
geom_histogram(binwidth = 5)
ggplot(titanic, aes(x = Age )) +
geom_histogram(binwidth = 5)
ggplot(titanic, aes(x = Age )) +
geom_histogram(binwidth = 5) +
geom_density()
ggplot(titanic, aes(x = Age )) +
geom_density()+
geom_histogram(binwidth = 5)
ggplot(titanic, aes(x = Age )) +
geom_density()
ggplot(titanic, aes(x = Age, y = denity )) +
geom_histogram(binwidth = 5)
ggplot(titanic, aes(x = Age, y = ..denity.. )) +
geom_histogram(binwidth = 5)
ggplot(titanic, aes(x = Age, y = ..denity.. )) +
geom_histogram(binwidth = 5) +
geom_density()
ggplot(titanic, aes(x = Age, y = ..denisity.. )) +
geom_histogram(binwidth = 5) +
geom_density()
ggplot(titanic, aes(x = Age, y = ..density.. )) +
geom_histogram(binwidth = 5) +
geom_density()
ggplot(titanic, aes(x = Age, y = ..density.. )) +
geom_histogram(binwidth = 5, color = "black") +
geom_density(color = "red")
ggplot(titanic, aes(x = Age, y = ..density.. )) +
geom_histogram(binwidth = 5, color = "white") +
geom_density(color = "red")
ggplot(titanic, aes(x = Age, y = ..density.. )) +
geom_histogram(binwidth = 5, fill = "white") +
geom_density(color = "red")
ggplot(titanic, aes(x = Age, y = ..density.. )) +
geom_histogram(binwidth = 5, fill = "white", color = "black") +
geom_density(color = "red")
ggplot(titanic, aes(x = Age, y = ..density.. )) +
geom_histogram(binwidth = 5, fill = "white", color = "black") +
geom_density(fill = "red", alpha = 0.2)
titanic %>% ggplot(aes(x = Age, y = ..density..)) +
geom_histogram(binwidth = 5,fill = "white", color = "black" ) +
geom_density(fill = "black", alpha = 0.3)
titanic
View(titanic)
# (4) 男性のみの年齢のヒストグラムを作成する
titanic %>% select(Age, Sex = "male" ) %>%
ggplot(mapping = aes(x = Age))+
geom_histogram()
# (4) 男性のみの年齢のヒストグラムを作成する
ggplot(titanic, mapping = aes(x = Age))+
geom_histogram()
ggplot(titanic_m, mapping = aes(x = Age))+
geom_histogram()
# (4) 男性のみの年齢のヒストグラムを作成する
titanic_m <- filter(titanic, Sex = "male") %>%
ggplot(mapping = aes(x = Age))+
geom_histogram()
# (4) 男性のみの年齢のヒストグラムを作成する
titanic_m <- filter(titanic, Sex = "male") %>%
ggplot(mapping = aes(x = Age))+
geom_histogram()
# (4) 男性のみの年齢のヒストグラムを作成する
titanic_m <- filter(titanic, Sex == "male") %>%
ggplot(mapping = aes(x = Age))+
geom_histogram()
# (4) 男性のみの年齢のヒストグラムを作成する
titanic_m <- filter(titanic, Sex == "male") %>%
ggplot(titanic_m, mapping = aes(x = Age))+
geom_histogram()
# (4) 男性のみの年齢のヒストグラムを作成する
titanic_m <- filter(titanic, Sex == "male") %>%
ggplot(titanic_m, mapping = aes(x = Age))+
geom_histogram()
ggplot(titanic, aes(x = Age, y = ..density.. )) +
geom_histogram(binwidth = 5, fill = "white", color = "black") +
geom_density(fill = "red", alpha = 0.2)
# ------------------------------------------------------------------------------------------
# 解答例
# ------------------------------------------------------------------------------------------
# データ読み込み
titanic <- read_csv("titanic.csv")
# (4) 男性のみの年齢のヒストグラムを作成する
titanic_m <- filter(titanic, Sex == "male") %>%
ggplot(titanic_m, mapping = aes(x = Age))+
geom_histogram()
# (4) 男性のみの年齢のヒストグラムを作成する
titanic_m <- filter(titanic, Sex == "male") %>%
ggplot(mapping = aes(x = Age))+
geom_histogram(titanic_m)
ggplot(mapping = aes(x = Age))+
geom_histogram(titanic_m)
ggplot(mapping = aes(x = Age)) +
geom_histogram(titanic_m)
ggplot(mapping = aes(x = Age)) +
geom_histogram(data = titanic_m)
# (4) 男性のみの年齢のヒストグラムを作成する
titanic_m <- filter(titanic, Sex == "Male")
ggplot(mapping = aes(x = Age)) +
geom_histogram(data = titanic_m)
ggplot(titanic_m, mapping = aes(x = Age)) +
geom_histogram()
# (4) 男性のみの年齢のヒストグラムを作成する
titanic_m <- filter(titanic, Sex == "Male")
ggplot(titanic_m, mapping = aes(x = Age)) +
geom_histogram()
ggplot(titanic_m, mapping = aes(x = Age)) +
geom_histogram()
ggplot(titanic_m, mapping = aes(x = Age)) +
geom_histogram(data = titanic_m)
# (4) 男性のみの年齢のヒストグラムを作成する
titanic_m %>% filter(titanic, Sex == "male")%>%
ggplot(mapping = aes(x = Age)) +
geom_histogram()
# (4) 男性のみの年齢のヒストグラムを作成する
titanic_m %>% filter(titanic, Sex == "male")%>%
ggplot(mapping = aes(x = Age)) +
geom_histogram(binwidth = 5)
# (4) 男性のみの年齢のヒストグラムを作成する
titanic %>% filter(titanic, Sex == "male")%>%
ggplot(mapping = aes(x = Age)) +
geom_histogram(binwidth = 5)
# (4) 男性のみの年齢のヒストグラムを作成する
titanic %>% filter(titanic, Sex == "male")%>%
ggplot(mapping = aes(x = Age)) +
geom_histogram(binwidth = 5)
# (4) 男性のみの年齢のヒストグラムを作成する
titanic %>% filter(Sex == "male")%>%
ggplot(mapping = aes(x = Age)) +
geom_histogram(binwidth = 5)
# (5) 男女別にAgeのヒストグラムを作成し、縦に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram()+
facet_wrap(Sex)
# (5) 男女別にAgeのヒストグラムを作成し、縦に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram()+
facet_wrap(. ~ Sex)
# (5) 男女別にAgeのヒストグラムを作成し、縦に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram(bins = 20)+
facet_wrap(. ~ Sex)
# (5) 男女別にAgeのヒストグラムを作成し、縦に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram(bins = 30)+
facet_wrap(. ~ Sex)
# (5) 男女別にAgeのヒストグラムを作成し、縦に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram(bins = 10)+
facet_wrap(. ~ Sex)
# (5) 男女別にAgeのヒストグラムを作成し、縦に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram(bins = 15)+
facet_wrap(. ~ Sex)
# (5) 男女別にAgeのヒストグラムを作成し、縦に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram(bins = 15)+
facet_grid(. ~ Sex)
# (5) 男女別にAgeのヒストグラムを作成し、縦に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram(bins = 15)+
facet_grid(Sex ~ .)
# (5) 男女別にAgeのヒストグラムを作成し、縦に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram(bins = 20)+
facet_grid(Sex ~ .)
# (5) 男女別にAgeのヒストグラムを作成し、縦に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram(bins = 60)+
facet_grid(Sex ~ .)
# (5) 男女別にAgeのヒストグラムを作成し、縦に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram(bins = 30)+
facet_grid(Sex ~ .)
# (5) 男女別にAgeのヒストグラムを作成し、縦に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram(binwidth = 5)+
facet_grid(Sex ~ .)
# (6) Pclass別にAgeのヒストグラムを作成し、横に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram(binwidth = 5)+
facet_grid(.~Pclass)
# (6) Pclass別にAgeのヒストグラムを作成し、横に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram(binwidth = 10)+
facet_grid(.~Pclass)
# (6) Pclass別にAgeのヒストグラムを作成し、横に並べて表示する
ggplot(titanic, aes(x = Age)) +
geom_histogram(binwidth = 10)+
facet_grid(.~Pclass, labeller = label_both)
# (7) PclassとSexで層別化(6グループ)したAgeのヒストグラムを作成し、並べて表示をする(行列配置)
ggplot(titanic, aes(x = Age)) +
geom_histogram()+
facet_grid(Sex ~Pclass, labeller = label_both)
# (7) PclassとSexで層別化(6グループ)したAgeのヒストグラムを作成し、並べて表示をする(行列配置)
ggplot(titanic, aes(x = Age)) +
geom_histogram(bins = 10)+
facet_grid(Sex ~Pclass, labeller = label_both)
# (7) PclassとSexで層別化(6グループ)したAgeのヒストグラムを作成し、並べて表示をする(行列配置)
ggplot(titanic, aes(x = Age)) +
geom_histogram(bins = 15)+
facet_grid(Sex ~Pclass, labeller = label_both)
# (8) Survivedで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, color = Survived)) +
geom_histogram()
# (8) Survivedで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, color = Survived)) +
geom_histogram(fill = "red")
# (8) Survivedで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, color = Survived)) +
geom_histogram(color = "red")
# (8) Survivedで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Survived)) +
geom_histogram()
# (8) Survivedで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Survived, color = Survived)) +
geom_histogram()
# (8) Survivedで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Survived, color = "black")) +
geom_histogram()
# (8) Survivedで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Survived)) +
geom_histogram()
# (8) Survivedで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Survived)) +
geom_histogram(alpha = 0.3)
# (8) Survivedで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Survived)) +
geom_histogram(alpha = 0.5)
# (8) Survivedで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Survived)) +
geom_histogram(alpha = 0.8)
# (8) Survivedで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Survived)) +
geom_histogram(alpha = 0.6)
# (9) Sexで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Sex)) +
geom_histogram(alpha = 0.6)
# (9) Sexで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Sex)) +
geom_histogram(abinwidth = 5lpha = 0.6)
# (9) Sexで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Sex)) +
geom_histogram(abinwidth = 5, alpha = 0.6)
# (9) Sexで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Sex)) +
geom_histogram(binwidth = 5, alpha = 0.6)
# (9) Sexで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Sex)) +
geom_histogram(binwidth = 5, position = "identity", alpha = 0.6)
# (9) Sexで層別化したAgeのヒストグラムを重ねて表示する
ggplot(titanic, aes(x = Age, fill = Sex)) +
geom_histogram(binwidth = 5, position = "identity", alpha = 0.4)
titanic %>% ggplot(aes(x = Age, fill = Survived)) +
geom_histogram(binwidth = 5, position = "identity", alpha = 0.4)
# (10) AgeとFareの散布図を作成する
ggplot(titanic, aes(x = Age, y = Fare)) +
geom_point()
# (11) AgeとFareの散布図に回帰直線を引く
ggplot(titanic, aes(x = Age, y = Fare)) +
geom_point()+
geom_smooth()
# (11) AgeとFareの散布図に回帰直線を引く
ggplot(titanic, aes(x = Age, y = Fare)) +
geom_point()+
geom_smooth(method = "lm")
# (12) Sexで層別化したAgeとFareの散布図を作成する(色で分ける)
ggplot(titanic, aes(x = Age, y = Fare, color = Sex)) +
geom_point()
# (13) Sexで層別化したAgeとFareの散布図を作成する(形で分ける)
ggplot(titanic, aes(x = Age, y = Fare, shape = Sex)) +
geom_point()
# (14) SibSpで層別化したAgeとFareの散布図を作成する
ggplot(titanic, aes(x = Age, y = Fare, shape = SidSp)) +
geom_point()
# (14) SibSpで層別化したAgeとFareの散布図を作成する
ggplot(titanic, aes(x = Age, y = Fare, shape = SibSp)) +
geom_point()
ggplot(titanic, aes(x = Age, y = Fare, shape = Sex)) +
geom_point()
ggplot(titanic, aes(x = Age, y = Fare, shape = SibSp)) +
geom_point()
# (14) SibSpで層別化したAgeとFareの散布図を作成する
ggplot(titanic, aes(x = Age, y = Fare, color = SibSp)) +
geom_point()
# (15) Pclassで層別化したAgeとFareの散布図を作成する
ggplot(titanic, aes(x = Age, y = Fare, shape = Pclass)) +
geom_point()
# (16) (15)の散布図にタイトル("AgeとFareの関係")を追加する
ggplot(titanic, aes(x = Age, y = Fare, shape = Pclass)) +
geom_point(title = "relation of Age and Fare")
# (16) (15)の散布図にタイトル("AgeとFareの関係")を追加する
ggplot(titanic, aes(x = Age, y = Fare, shape = Pclass)) +
geom_point(title = "relation of Age and Fare")
ggtitle("relation of Age and Fare")
# (16) (15)の散布図にタイトル("AgeとFareの関係")を追加する
ggplot(titanic, aes(x = Age, y = Fare, shape = Pclass)) +
geom_point()+
ggtitle("relation of Age and Fare")
# (17) PclassごとのAgeの箱ひげ図の作成する
ggplot(titanic, aes(x = Pclass, y = Age))+
geom_boxplot()
# (18) (17)の箱ひげ図にデータ点を追加する
ggplot(titanic, aes(x = Pclass, y = Age))+
geom_boxplot()+
geom_point()
# (18) (17)の箱ひげ図にデータ点を追加する
ggplot(titanic, aes(x = Pclass, y = Age))+
geom_boxplot()+
geom_jitter()
# (18) (17)の箱ひげ図にデータ点を追加する
ggplot(titanic, aes(x = Pclass, y = Age))+
geom_boxplot()+
geom_jitter(aes(color = Pclass))
# (21) PclassごとのAgeの平均値を棒グラフで表示する
ggplot(titanic, aes(x = Pclass, y = Age))+
stat_summary(geom = "bar", fun.y = "mean")
# (21) PclassごとのAgeの平均値を棒グラフで表示する
ggplot(titanic, aes(x = Pclass, y = Age))+
stat_summary(geom = "bar", fun.y = "mean", color = "white")
# (21) PclassごとのAgeの平均値を棒グラフで表示する
ggplot(titanic, aes(x = Pclass, y = Age))+
stat_summary(geom = "bar", fun.y = "mean", color = "white")
# (21) PclassごとのAgeの平均値を棒グラフで表示する
ggplot(titanic, aes(x = Pclass, y = Age))+
stat_summary(geom = "bar", fun.y = "mean", fill = "white")
# (21) PclassごとのAgeの平均値を棒グラフで表示する
ggplot(titanic, aes(x = Pclass, y = Age))+
stat_summary(geom = "bar", fun.y = "mean", fill = "wgreen")
# (21) PclassごとのAgeの平均値を棒グラフで表示する
ggplot(titanic, aes(x = Pclass, y = Age))+
stat_summary(geom = "bar", fun.y = "mean", fill = "green")
# (22) PclassごとのAgeの標準偏差を棒グラフで表示する
ggplot(titanic, aes(x = Pclass, y = Age))+
stat_summary(geom = "bar", fun.y = "sd", fill = "green")
# (22) PclassごとのAgeの標準偏差を棒グラフで表示する
ggplot(titanic, aes(x = Pclass, y = Age))+
stat_summary(geom = "bar", fun.y = "sd")
# (21) PclassごとのAgeの平均値を棒グラフで表示する
ggplot(titanic, aes(x = Pclass, y = Age))+
stat_summary(geom = "bar", fun.y = "mean", fill = "green")
# (22) PclassごとのAgeの標準偏差を棒グラフで表示する
ggplot(titanic, aes(x = Pclass, y = Age))+
stat_summary(geom = "bar", fun.y = "sd")
titanic %>% select(Survived, Age, Fare, SibSp) %>%
ggpairs(aes_string(color = "Survived", alpha = 0.5))
titanic %>% select(Survived, Age, Fare, SibSp) %>%
ggpairs(aes_string(color = "Survived", alpha = 0.5))
titanic %>% select(Survived, Age, Fare, SibSp) %>%
ggpairs(aes_string(color = "Survived", alpha = 0.5))
# (27) Survivedで層別化したAge,Fare,SibSpの散布図行列を作成
library(GGally)
titanic %>% select(Survived, Age, Fare, SibSp) %>%
ggpairs(aes_string(color = "Survived", alpha = 0.5))
# (16) DMで層別化したAgeの平均値をSexごとに棒グラフで表示する
ggplot(data = rfm, mapping = aes(x = Sex, y = Age, fill = DM)) +
geom_bar(stat = "summary", fun.y = "mean", position = "dodge") +
theme_gray(base_family = "HiraKakuPro-W3")
library(tidyverse)
library(forcats)
