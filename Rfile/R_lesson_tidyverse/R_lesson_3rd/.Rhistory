rfm <- read_csv("/Users/yoshikawahiroshi/Documents/R_lesson_tidyverse/R_lesson_3rd/RFM.csv")
View(sales)
View(sales)
View(rfm)
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(sex = case_when(1 ~ 男性,
2 ~ 女性
TRUE ~ null))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(sex = case_when(1 ~ 男性,
2 ~ 女性,
TRUE ~ null))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(sex = case_when(sex = 1 ~ 男性,
sex = 0 ~ 女性,
TRUE ~ null))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(sex = case_when(sex = 1 ~ "男性",
sex = 0 ~ "女性",
TRUE ~ null))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(Sex = case_when(Sex = 1 ~ "男性",
Sex = 0 ~ "女性",
TRUE ~ null))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(Sex = case_when(Sex = 1 ~ "男性",
Sex = 0 ~ "女性",
TRUE ~ null))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(Sex = case_when(Sex = 1 ~ "男性",
Sex = 0 ~ "女性",
TRUE ~ null))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(Sex = case_when(Sex == 1 ~ "男性",
Sex == 0 ~ "女性",
TRUE ~ null))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(Sex = case_when(Sex == 1 ~ "男性",
Sex == 0 ~ "女性",
TRUE ~ "null"))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(Sex = case_when(Sex == M ~ 1,
Sex == F ~ 0,
TRUE ~ "null"))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(Sex = case_when(Sex == M ~ 1,
Sex == F ~ 0,
TRUE ~ null))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(Sex = case_when(Sex == M ~ 1,
Sex == F ~ 0,
TRUE ~ "null"))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(Sex = case_when(Sex == M ~ 1,
Sex == F ~ 0,
TRUE ~ "null"))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>%
mutate(Sex = case_when(Sex == "M" ~ 1,
Sex == "F" ~ 0,
TRUE ~ "null"))
(rfm <- rfm %>% mutate(Sex = if_else(Sex == 1, "男性", "女性")))
# ------------------------------------------------------------------------------------------
# 練習問題
# ------------------------------------------------------------------------------------------
# データ読み込み
rfm <- read_csv("/Users/yoshikawahiroshi/Documents/R_lesson_tidyverse/R_lesson_3rd/RFM.csv")
View(rfm)
(rfm <- rfm %>% mutate(Sex = if_else(Sex == 1, "男性", "女性")))
# ------------------------------------------------------------------------------------------
# 練習問題
# ------------------------------------------------------------------------------------------
# データ読み込み
rfm <- read_csv("/Users/yoshikawahiroshi/Documents/R_lesson_tidyverse/R_lesson_3rd/RFM.csv")
View(rfm)
View(rfm)
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
fm %>% mutate(Sex = if_else(Sex == 1, "男性", "女性")))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
fm %>% mutate(Sex = if_else(Sex == 1, "男性", "女性"))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>% mutate(Sex = if_else(Sex == 1, "男性", "女性"))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>% mutate(Sex = if_else(Sex == M, "男性", "女性"))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>% mutate(Sex = if_else(Sex == "M", "男性", "女性"))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>% mutate(Sex = if_else(Sex == M, "男性", "女性"))
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
rfm %>% mutate(Sex = if_else(Sex == "M", "男性", "女性"))
# (2) 変数DMの値を変換し、rfmに上書き。1->反応、0->無反応
rfm %>% mutate(DM = case_when((DM == "yes", "反応", "無反応"))
# (2) 変数DMの値を変換し、rfmに上書き。1->反応、0->無反応
rfm %>% mutate(DM = case_when((DM == "yes","反応","無反応"))
TRUE ~ 0))
TRUE ~ 0))
TRUE ~ 0))
# ------------------------------------------------------------------------------------------
# 解答例
# ------------------------------------------------------------------------------------------
# データ読み込み
rfm <- read_csv("RFM.csv")
TRUE ~ 0))
TRUE ~ "0"))
# (13) 変数"数量"が100以上であれば2、100未満50以上で1、50未満で0をとる変数"数量100.50"を新たに作成
sales %>% mutate(数量100.50 = case_when(数量 >= 100 ~ 2,
数量 >= 50 ~ 1,
TRUE ~ 0))
TRUE ~ 0))
# ------------------------------------------------------------------------------------------
# 解答例
# ------------------------------------------------------------------------------------------
# データ読み込み
rfm <- read_csv("RFM.csv")
TRUE ~ 無反応))
# (2) 変数DMの値を変換し、rfmに上書き。1->反応、0->無反応
rfm %>% mutate(DM = case_when((DM == yes ~ 反応,TRUE ~ 無反応))
TRUE ~ 無反応)
TRUE ~ "無反応")
# (2) 変数DMの値を変換し、rfmに上書き。1->反応、0->無反応
rfm %>% mutate(DM = case_when(DM == yes ~ "反応",
TRUE ~ "無反応"))
# (2) 変数DMの値を変換し、rfmに上書き。1->反応、0->無反応
rfm %>% mutate(DM = case_when(DM == "yes" ~ "反応",
TRUE ~ "無反応"))
summarise_all(Age,R,F,M)
summarise_all(mean,Age,R,F,M)
summarise_at(c(Age,R,F,M),mean)
summarise_at(c("Age","R","F",M"),mean)
# (4) Age,R,F,Mの平均値をDMの値ごとに求める
# (5) SexごとにDM反応者数の集計をする(クロス集計表の作成)
# (6) Ageの値をカテゴリー化した変数を作成し(20代、30代、40代、50代)、その変数とDMのクロス集計表を作成する
# ------------------------------------------------------------------------------------------
# 解答例
# ------------------------------------------------------------------------------------------
# データ読み込み
rfm <- read_csv("RFM.csv")
rfm
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
(rfm <- rfm %>% mutate(Sex = if_else(Sex == 1, "男性", "女性")))
# (2) 変数DMの値を変換し、rfmに上書き。1->反応、0->無反応
(rfm <- rfm %>% mutate(DM = if_else(DM == 1, "反応", "無反応" )))
# (3) Age,R,F,Mの平均値をSexの値ごとに求める
rfm %>% group_by(Sex) %>%
summarise_at(vars(Age, R, F, M), mean)
# (4) Age,R,F,Mの平均値をDMの値ごとに求める
rfm %>% group_by(DM) %>%
summarise_at(vars(Age, R, F, M), mean)
# (5) SexごとにDM反応者数の集計をする(クロス集計表の作成)
rfm %>% count(Sex, DM) %>%
spread(key = DM, value = n)
rfm %>% group_by(Sex, DM) %>%
summarise(n = n()) %>%
spread(key = DM, value = n)
# (6) Ageの値をカテゴリー化した変数を作成し(20代、30代、40代、50代)、その変数とDMのクロス集計表を作成する
rfm %>% mutate(C.Age = case_when(
Age >= 50 ~ "50代",
Age >= 40 ~ "40代",
Age >= 30 ~ "30代",
Age >= 20 ~ "20代")) %>%
count(C.Age, DM) %>%
spread(key = DM, value = n)
rfm %>% mutate(C.Age = case_when(
Age >= 50 ~ "50代",
Age >= 40 ~ "40代",
Age >= 30 ~ "30代",
Age >= 20 ~ "20代")) %>%
group_by(C.Age, DM) %>%
summarise(n =n()) %>%
spread(key = DM, value = n)
summarise_at(c("Age","R","F",M"),mean)
# (4) Age,R,F,Mの平均値をDMの値ごとに求める
# (5) SexごとにDM反応者数の集計をする(クロス集計表の作成)
# (6) Ageの値をカテゴリー化した変数を作成し(20代、30代、40代、50代)、その変数とDMのクロス集計表を作成する
# ------------------------------------------------------------------------------------------
# 解答例
# ------------------------------------------------------------------------------------------
# データ読み込み
rfm <- read_csv("RFM.csv")
rfm
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
(rfm <- rfm %>% mutate(Sex = if_else(Sex == 1, "男性", "女性")))
# (2) 変数DMの値を変換し、rfmに上書き。1->反応、0->無反応
(rfm <- rfm %>% mutate(DM = if_else(DM == 1, "反応", "無反応" )))
# (3) Age,R,F,Mの平均値をSexの値ごとに求める
rfm %>% group_by(Sex) %>%
summarise_at(vars(Age, R, F, M), mean)
# (4) Age,R,F,Mの平均値をDMの値ごとに求める
rfm %>% group_by(DM) %>%
summarise_at(vars(Age, R, F, M), mean)
# (5) SexごとにDM反応者数の集計をする(クロス集計表の作成)
rfm %>% count(Sex, DM) %>%
spread(key = DM, value = n)
rfm %>% group_by(Sex, DM) %>%
summarise(n = n()) %>%
spread(key = DM, value = n)
# (6) Ageの値をカテゴリー化した変数を作成し(20代、30代、40代、50代)、その変数とDMのクロス集計表を作成する
rfm %>% mutate(C.Age = case_when(
Age >= 50 ~ "50代",
Age >= 40 ~ "40代",
Age >= 30 ~ "30代",
Age >= 20 ~ "20代")) %>%
count(C.Age, DM) %>%
spread(key = DM, value = n)
rfm %>% mutate(C.Age = case_when(
Age >= 50 ~ "50代",
Age >= 40 ~ "40代",
Age >= 30 ~ "30代",
Age >= 20 ~ "20代")) %>%
group_by(C.Age, DM) %>%
summarise(n =n()) %>%
spread(key = DM, value = n)
rfm %>% group_by(Sex)
summarise_at(c("Age","R","F",M"),mean)
summarise_at(Vars("Age","R","F",M"),mean)
# (4) Age,R,F,Mの平均値をDMの値ごとに求める
# (5) SexごとにDM反応者数の集計をする(クロス集計表の作成)
# (6) Ageの値をカテゴリー化した変数を作成し(20代、30代、40代、50代)、その変数とDMのクロス集計表を作成する
# ------------------------------------------------------------------------------------------
# 解答例
# ------------------------------------------------------------------------------------------
# データ読み込み
rfm <- read_csv("RFM.csv")
rfm
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
(rfm <- rfm %>% mutate(Sex = if_else(Sex == 1, "男性", "女性")))
# (2) 変数DMの値を変換し、rfmに上書き。1->反応、0->無反応
(rfm <- rfm %>% mutate(DM = if_else(DM == 1, "反応", "無反応" )))
# (3) Age,R,F,Mの平均値をSexの値ごとに求める
rfm %>% group_by(Sex) %>%
summarise_at(vars(Age, R, F, M), mean)
# (4) Age,R,F,Mの平均値をDMの値ごとに求める
rfm %>% group_by(DM) %>%
summarise_at(vars(Age, R, F, M), mean)
# (5) SexごとにDM反応者数の集計をする(クロス集計表の作成)
rfm %>% count(Sex, DM) %>%
spread(key = DM, value = n)
rfm %>% group_by(Sex, DM) %>%
summarise(n = n()) %>%
spread(key = DM, value = n)
# (6) Ageの値をカテゴリー化した変数を作成し(20代、30代、40代、50代)、その変数とDMのクロス集計表を作成する
rfm %>% mutate(C.Age = case_when(
Age >= 50 ~ "50代",
Age >= 40 ~ "40代",
Age >= 30 ~ "30代",
Age >= 20 ~ "20代")) %>%
count(C.Age, DM) %>%
spread(key = DM, value = n)
rfm %>% mutate(C.Age = case_when(
Age >= 50 ~ "50代",
Age >= 40 ~ "40代",
Age >= 30 ~ "30代",
Age >= 20 ~ "20代")) %>%
group_by(C.Age, DM) %>%
summarise(n =n()) %>%
spread(key = DM, value = n)
rfm %>% group_by(Sex)
summarise_at(Vars("Age","R","F",M"),mean)
# (3) Age,R,F,Mの平均値をSexの値ごとに求める
rfm %>% group_by(Sex) %>%
summarise_at(Vars("Age","R","F",M"),mean)
# (4) Age,R,F,Mの平均値をDMの値ごとに求める
# (5) SexごとにDM反応者数の集計をする(クロス集計表の作成)
# (6) Ageの値をカテゴリー化した変数を作成し(20代、30代、40代、50代)、その変数とDMのクロス集計表を作成する
# ------------------------------------------------------------------------------------------
# 解答例
# ------------------------------------------------------------------------------------------
# データ読み込み
rfm <- read_csv("RFM.csv")
rfm
# (1) 変数Sexの値を変換し、rfmに上書き。1->男性、0->女性
(rfm <- rfm %>% mutate(Sex = if_else(Sex == 1, "男性", "女性")))
# (2) 変数DMの値を変換し、rfmに上書き。1->反応、0->無反応
(rfm <- rfm %>% mutate(DM = if_else(DM == 1, "反応", "無反応" )))
# (3) Age,R,F,Mの平均値をSexの値ごとに求める
rfm %>% group_by(Sex) %>%
summarise_at(vars(Age, R, F, M), mean)
# (4) Age,R,F,Mの平均値をDMの値ごとに求める
rfm %>% group_by(DM) %>%
summarise_at(vars(Age, R, F, M), mean)
# (5) SexごとにDM反応者数の集計をする(クロス集計表の作成)
rfm %>% count(Sex, DM) %>%
spread(key = DM, value = n)
rfm %>% group_by(Sex, DM) %>%
summarise(n = n()) %>%
spread(key = DM, value = n)
# (6) Ageの値をカテゴリー化した変数を作成し(20代、30代、40代、50代)、その変数とDMのクロス集計表を作成する
rfm %>% mutate(C.Age = case_when(
Age >= 50 ~ "50代",
Age >= 40 ~ "40代",
Age >= 30 ~ "30代",
Age >= 20 ~ "20代")) %>%
count(C.Age, DM) %>%
spread(key = DM, value = n)
rfm %>% mutate(C.Age = case_when(
Age >= 50 ~ "50代",
Age >= 40 ~ "40代",
Age >= 30 ~ "30代",
Age >= 20 ~ "20代")) %>%
group_by(C.Age, DM) %>%
summarise(n =n()) %>%
spread(key = DM, value = n)
# ------------------------------------------------------------------------------------------
# 練習問題
# ------------------------------------------------------------------------------------------
# データ読み込み
rfm <- read_csv("/Users/yoshikawahiroshi/Documents/R_lesson_tidyverse/R_lesson_3rd/RFM.csv")
# (3) Age,R,F,Mの平均値をSexの値ごとに求める
rfm %>% group_by(Sex) %>%
summarise_at(vars(Age,R,F,M),mean)
# (4) Age,R,F,Mの平均値をDMの値ごとに求める
rfm %>% group_by(DM) %>%
summarise_at(vars(Age,R,F,M),mean)
# (4) Age,R,F,Mの平均値をDMの値ごとに求める
rfm %>% group_by(DM) %>%
summarise(c(Age,R,F,M),mean)
# (4) Age,R,F,Mの平均値をDMの値ごとに求める
rfm %>% group_by(DM) %>%
summarise(c("Age","R","F","M"),mean)
rfm %>% group_by(DM) %>%
summarise_at(c("Age","R","F","M"),mean)
rfm %>% group_by(Sex) %>%
summarise_at(c("Age","R","F","M"),mean)
# (3) Age,R,F,Mの平均値をSexの値ごとに求める
rfm %>% group_by(Sex) %>%
summarise_at(vars(Age,R,F,M),mean)
# (5) SexごとにDM反応者数の集計をする(クロス集計表の作成)
rfm %>% group_by(Sex,DM)
# (5) SexごとにDM反応者数の集計をする(クロス集計表の作成)
rfm %>% group_by(Sex,DM) %>%
tally()
# (5) SexごとにDM反応者数の集計をする(クロス集計表の作成)
rfm %>% group_by(Sex,DM) %>%
tally() %>%
spread(key = DM, value = n)
# (6) Ageの値をカテゴリー化した変数を作成し(20代、30代、40代、50代)、その変数とDMのクロス集計表を作成する
rfm %>%
mutate(Ages = case_when(Age < 30 ~ "20代",
Age < 40 ~ "30代",
Age < 50 ~ "40代",
Age < 60 ~ "50代"))
# (6) Ageの値をカテゴリー化した変数を作成し(20代、30代、40代、50代)、その変数とDMのクロス集計表を作成する
rfm %>%
mutate(Ages = case_when(Age < 30 ~ "20代",
Age < 40 ~ "30代",
Age < 50 ~ "40代",
Age < 60 ~ "50代")) %>%
group_by(Ages,DM)
# (6) Ageの値をカテゴリー化した変数を作成し(20代、30代、40代、50代)、その変数とDMのクロス集計表を作成する
rfm %>%
mutate(Ages = case_when(Age < 30 ~ "20代",
Age < 40 ~ "30代",
Age < 50 ~ "40代",
Age < 60 ~ "50代")) %>%
group_by(Ages,DM) %>%
summarise(n =n())
# (6) Ageの値をカテゴリー化した変数を作成し(20代、30代、40代、50代)、その変数とDMのクロス集計表を作成する
rfm %>%
mutate(Ages = case_when(Age < 30 ~ "20代",
Age < 40 ~ "30代",
Age < 50 ~ "40代",
Age < 60 ~ "50代")) %>%
group_by(Ages,DM) %>%
summarise(n =n()) %>%
spread(key = DM, value = n)
library(tidyverse)
library(skimr)
# ------------------------------------------------------------------------------------------
# 練習問題
# ------------------------------------------------------------------------------------------
# データ読み込み
titanic <- read_csv("/Users/yoshikawahiroshi/Documents/R_lesson_tidyverse/R_lesson_3rd/titanic.csv")
# ------------------------------------------------------------------------------------------
# 練習問題
# ------------------------------------------------------------------------------------------
# データ読み込み
titanic <- read_csv("/Users/yoshikawahiroshi/Documents/R_lesson_tidyverse/R_lesson_3rd/titanic.csv")
# (1) PclassとSurvivedをfactor型に、その他のchr型をfactor型に変換し、titanicに上書き。
titanic %>%
mutate_at(vars(Pclass, Survived), as.factor) %>%
mutate_if(is.character, as.factor)
# (2) Name、Cabin、Ticketを削除し、titanicに上書き。
titanic %>%
select(-Name、-Cabin、-Ticket)
# (2) Name、Cabin、Ticketを削除し、titanicに上書き。
titanic %>%
select(-Name,-Cabin,-Ticket)
# (3) 欠損値をリストワイズ削除し、titanicに上書き。
titanic %>%
na.omit() %>%
skim()
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select_if(is.numeric,-PassengerId) %>%
summarise_all(mean)
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select_if(is.numeric,-PassengerId)
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select_if(is.numeric)
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select_if(is.numeric,except(PassengerId))
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select_if(is.numeric) %>%
summarise(mean)
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select_if(is.numeric) %>%
summarise_all(mean)
titanic
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select_if(is.numeric) %>%
summarise_at(-PassengerID,mean)
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select_if(is.numeric) %>%
summarise_at(-"PassengerID",mean)
select(-passengerID
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select(-passengerID)
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select(-"PassengerID")
# (2) Name、Cabin、Ticketを削除し、titanicに上書き。
titanic %>%
select(-Name,-Cabin,-Ticket)
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select(-PassengerID)
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select(-"PassengerId") %>%
summarize_if(is.numeric,mean)
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select(-"PassengerId")
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select(-"PassengerID")
titanic %>%
select(-"PassengerId")
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select(-"PassengerID")
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>% select(-"PassengerID")
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic%>%select(-"PassengerID")
titanic%>%select(-"PassengerId")
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %> %
select(-"PassengerId") %>%
summarise_at(is.numeric, mean)
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select(-"PassengerId") %>%
summarise_at(is.numeric, mean)
# (4) PassengerId以外の数値型の変数の平均値を求める
titanic %>%
select(-"PassengerId") %>%
summarise_if(is.numeric, mean)
# (5) PassengerId以外の数値型の変数の平均値をPclassの値ごとに求める(Pclassでグループ化)
titanic %>% group_by(Pclass) %>%
select(-"PassengerId") %>%
sumarise_if(is.nymeric, mean)
# (5) PassengerId以外の数値型の変数の平均値をPclassの値ごとに求める(Pclassでグループ化)
titanic %>% group_by(Pclass) %>%
select(-"PassengerId") %>%
summarise_if(is.nymeric, mean)
# (5) PassengerId以外の数値型の変数の平均値をPclassの値ごとに求める(Pclassでグループ化)
titanic %>% group_by(Pclass) %>%
select(-"PassengerId") %>%
summarise_if(is.numeric, mean)
# (6) PassengerId以外の数値型の変数の平均値をSexの値ごとに求める(Sexでグループ化)
titanic %>% group_by(Sex) %>%
select(-"PassengerId") %>%
summarise_if(is.numeric, mean)
# (7) Pclassごとに死亡者数の集計する(クロス集計の作成)
titanic %>% group_by(Survived,Pclass)
# (7) Pclassごとに死亡者数の集計する(クロス集計の作成)
titanic %>% group_by(Survived,Pclass) %>%
tally()
# (7) Pclassごとに死亡者数の集計する(クロス集計の作成)
titanic %>% group_by(Survived,Pclass) %>%
tally() %>%
spread(key = Pclass, value = n)
# (7) Pclassごとに死亡者数の集計する(クロス集計の作成)
titanic %>% group_by(Survived,Pclass) %>%
tally() %>%
spread(key = Survived, value = n)
# (8) PclassとSexごとに死亡者数の集計(クロス集計の作成)
titanic %>% group_by(Survived,Pclass, Sex) %>%
tally() %>%
spread(key = Survived, value = n)
